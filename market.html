<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wave</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    </head>
    
    <link rel="stylesheet" href="market.css" />
  </head>

  <body>
    <div class="navbar">
      <div class="logo">
          <a href="index.html" id="logo-p5">exscommerce</a>
      </div>
      <div class="nav-links">
          <a href="index.html">Home</a>
          <a class="active" href="market.html">Market</a>
          <a href="http://wa.me/62895375427402">Contact</a>
      </div>
      <div class="cart-icon-container">
        <!-- Cart Icon -->
        <i class="fas fa-shopping-cart" id="cart-icon"></i>
        <span id="cart-count">0</span> <!-- Cart item count -->
      </div>
    </div>
  </div>
    <div class="header">
      
    

      <div class="cart-modal" id="cart-modal">
        <div class="cart-modal-content">
            <!-- Tombol close (X) untuk menutup pop-up -->
            <span class="close-btn" id="close-cart-btn">&times;</span>
            <h2>Shopping Cart</h2>
            <div id="cart-items"></div>
            <div class="total">
                <p>Total: $<span id="total-price">0.00</span></p>
                <button id="checkout-btn">Checkout</button>
            </div>
        </div>
    </div>
      <!--Content starts-->
      <div class="cardMen">
        <div class="head">
            <h1>Popular<span> Product</span></h1>
            <div class="product-container">
                <!-- Product 1 -->
                <div class="product-showcase" data-id="1" data-name="Product 1" data-price="29.99" data-image="https://via.placeholder.com/300x200">
                    <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                    <div class="product-details">
                        <h2 class="product-title">Product 1</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                    </div>
                </div>
  
                <!-- Product 2 -->
                <div class="product-showcase" data-id="2" data-name="Product 2" data-price="39.99" data-image="https://via.placeholder.com/300x200">
                    <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                    <div class="product-details">
                        <h2 class="product-title">Product 2</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                    </div>
                </div>
  
                <!-- Product 3 -->
                <div class="product-showcase" data-id="3" data-name="Product 3" data-price="49.99" data-image="https://via.placeholder.com/300x200">
                    <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                    <div class="product-details">
                        <h2 class="product-title">Product 3</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
            <div class="cardMen">
              <div class="head">
                  <h1>Our<span> Product</span></h1>
                  <div class="product-container">
                    <!-- Product 1 -->
                    <div class="product-showcase">
                      <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                      <div class="product-details">
                        <h2 class="product-title">Product 1</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                      </div>
                    </div>
                    <!-- Product 2 -->
                    <div class="product-showcase">
                      <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                      <div class="product-details">
                        <h2 class="product-title">Product 2</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                      </div>
                    </div>
                    <!-- Product 3 -->
                    <div class="product-showcase">
                      <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                      <div class="product-details">
                        <h2 class="product-title">Product 3</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                      </div>
                    </div>
                    <div class="product-showcase">
                      <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                      <div class="product-details">
                        <h2 class="product-title">Product 4</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                      </div>
                    </div>
                    <div class="product-showcase">
                      <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                      <div class="product-details">
                        <h2 class="product-title">Product 5</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                      </div>
                    </div>
                    <div class="product-showcase">
                      <div class="product-image" style="background-image: url('/img/Tak\ berjudul16_20241108081516.png');"></div>
                      <div class="product-details">
                        <h2 class="product-title">Product 6</h2>
                        <p class="product-price">Rp.10.000</p>
                        <a href="#" class="buy-button">Buy Now</a>
                      </div>
                    </div>
                  </div>
                  <script>
                    // Mendapatkan elemen-elemen yang dibutuhkan
  let cart = []; // Array untuk menyimpan produk yang ditambahkan ke keranjang
  let cartIcon = document.getElementById('cart-icon'); // Icon cart untuk membuka modal
  let cartCount = document.getElementById('cart-count'); // Menampilkan jumlah barang di cart
  let cartModal = document.getElementById('cart-modal'); // Modal cart
  let closeCartBtn = document.getElementById('close-cart-btn'); // Tombol close untuk menutup modal
  let checkoutBtn = document.getElementById('checkout-btn'); // Tombol checkout di modal
  let cartItemsDiv = document.getElementById('cart-items'); // Div untuk menampilkan produk dalam cart
  let totalPriceDiv = document.getElementById('total-price'); // Div untuk menampilkan total harga
  
  // Fungsi untuk menambahkan produk ke keranjang
  document.querySelectorAll('.buy-button').forEach(button => {
      button.addEventListener('click', (e) => {
          // Mengambil data produk (id, nama, harga, gambar) dari button yang diklik
          let product = e.target.closest('.product-showcase');
          let id = product.dataset.id;
          let name = product.dataset.name;
          let price = parseFloat(product.dataset.price);
          let image = product.dataset.image;
  
          addToCart(id, name, price, image); // Menambah produk ke cart
      });
  });
  
  // Ketika ikon cart diklik, tampilkan modal
  cartIcon.addEventListener('click', () => {
      cartModal.style.display = 'block'; // Menampilkan modal cart
  });
  
  // Ketika tombol close diklik, sembunyikan modal
  closeCartBtn.addEventListener('click', () => {
      cartModal.style.display = 'none'; // Menyembunyikan modal cart
  });
  
  // Jika tombol Checkout diklik
  checkoutBtn.addEventListener('click', () => {
      alert('Proceeding to checkout!');
  });
  
  // Fungsi untuk menambah produk ke dalam keranjang
  function addToCart(id, name, price, image) {
      // Mengecek apakah produk sudah ada di keranjang
      let productInCart = cart.find(item => item.id === id);
  
      if (productInCart) {
          // Jika produk sudah ada, tingkatkan jumlahnya
          productInCart.quantity++;
      } else {
          // Jika produk belum ada, tambahkan produk baru ke keranjang
          cart.push({ id, name, price, image, quantity: 1 });
      }
  
      // Memperbarui tampilan cart setelah menambah produk
      updateCartUI();
  }
  
  // Fungsi untuk memperbarui tampilan keranjang
  function updateCartUI() {
      // Menghitung total jumlah produk dalam cart
      cartCount.innerText = cart.reduce((total, item) => total + item.quantity, 0);
  
      // Menampilkan produk di cart
      cartItemsDiv.innerHTML = ''; // Bersihkan cart sebelum menambahkan produk terbaru
      let total = 0; // Variabel untuk menyimpan total harga
  
      // Loop untuk menampilkan setiap produk di dalam cart
      cart.forEach(item => {
          total += item.price * item.quantity; // Menghitung harga total produk
          let itemDiv = document.createElement('div');
          itemDiv.classList.add('cart-item');
          itemDiv.innerHTML = `
              <img src="${item.image}" alt="${item.name}" style="width: 50px; height: 50px; object-fit: cover;">
              <div>${item.name} x${item.quantity}</div>
              <div>$${(item.price * item.quantity).toFixed(2)}</div>
          `;
          cartItemsDiv.appendChild(itemDiv);
      });
  
      // Menampilkan total harga
      totalPriceDiv.innerText = total.toFixed(2);
  }
  
                </script>
    </body>
  </html>
  